\documentclass[
  a5paper,10pt,           % Basic geometry and type size
  dvipsnames              % To be passed to the xcolor package
]{book}
\IfFileExists{shellesc.sty}{%
  \usepackage{shellesc}}{}% Patch LuaTeX 0.87+ to support `\write18`.
\usepackage{etex}         % Reserve room for 32 additional insertion classes
\reserveinserts{32}       %% that will not be taken away by `\newcount` et al.
\usepackage{polyglossia}  % Hyphenation
\setmainlanguage{english}
\setotherlanguages{french, italian, german, czech}
\usepackage{placeins}     % Float barriers
\usepackage{tikz}         % Diagrams
\usetikzlibrary{trees,arrows}
\usepackage{fancyvrb}     % Manually colored verbatim
\let\oldendVerbatim       %% patched so that there is no extra vertical space
    \endVerbatim          %% after the environment
\def\endVerbatim{%
  \oldendVerbatim
  \vspace{-9pt}}
\usepackage{hologo}       % TeX engine logos
\usepackage{float}        % Non-floating figures
\usepackage{url}          % URLs
\usepackage{tabularx}     % Tables
\usepackage{booktabs}
\usepackage{dcolumn}
\usepackage{latexsym}     % Additional LaTeX symbols
\usepackage{pifont}       % Dingbats
\usepackage[              % Bibliography
  backend=biber,
  style=numeric,
  citestyle=numeric-comp,
  sorting=none,
  backref=true
]{biblatex}
\addbibresource{main.bib}
\usepackage[nottoc]{tocbibind}
\usepackage{makeidx}      % Index
\makeindex
\usepackage{varwidth}     % Variable-width minipages
\usepackage{./main}       % Markup and design
\input{./acronyms}        % Acronyms
\includeonly{chapters/writing,chapters/markup,chapters/design}
\begin{document}
\frontmatter
\title{Electronic Document Preparation\\Pocket Primer}
\author{Vít Novotný}
\maketitle
\tableofcontents
\mainmatter
\fakechapter{Introduction}
With the advent of the digital age, typesetting has become available to
virtually anyone equipped with a personal computer. Beautiful text documents can
now be crafted using free and consumer-grade software, which often obviates the
need for the involvement of a professional designer and typesetter. The level
playing field of the Internet coupled with the rising popularity of digital-only
documents then allows the author to bypass the publisher as well, if they so
wish, without jeopardizing their chance of recognition.

This aim of this book is to provide a general overview of the tools and
techniques tied with writing, designing, typesetting, and distributing text
documents---one of the principal means of knowledge preservation and transfer
known to man. Each chapter describes one discrete step of document preparation
along with practical examples and references to literature for those interested
in further study.

The chapter are filled with examples that illustrate the subject matter. These
should be consulted whenever the concepts described in the text are unclear to
the reader. Although care was taken not to favor any computing environment,
some examples feature utilities for \Unices. These utilities may or may not have
a suitable counterpart in operating systems such as Windows; To try the
corresponding examples out, the reader is advised to install a free Unix-like
environment---such as Cygwin for Windows---on their computer.

\include{chapters/writing}
\include{chapters/markup}
\include{chapters/design}
\include{chapters/typesetting}

\backmatter

% Bibliography
\def\cite#1{$\!$}                    % Disable recursive citing.
\printbibliography[heading=bibintoc] % Print the bibliography.

% Acronyms
\fakechapter{Acronyms}
\def\index#1{} % Disable indexing of acronyms.
\printacronyms[heading=none]

% Index
\cleardoublepage
\def\index#1{} % Disable recursive indexing.
\printindex    % Print the index.
\end{document}
